{"ast":null,"code":"import _slicedToArray from\"D:/IonicProjects/weather-App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{IonContent,IonPage,useIonViewDidEnter}from'@ionic/react';import'./Home.css';import{useEffect,useState}from'react';import Preloader from'../components/Preloader';import*as Utilities from'../common/Utilities';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Home=function Home(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showLoading=_useState2[0],setShowLoading=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),locationName=_useState4[0],setLocationName=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),currentDate=_useState6[0],setCurrentDate=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),currentTemp=_useState8[0],setCurrentTemp=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),weather=_useState10[0],setWeather=_useState10[1];var _useState11=useState(0),_useState12=_slicedToArray(_useState11,2),realTemp=_useState12[0],setRealTemp=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),weatherIcon=_useState14[0],setWeatherIcon=_useState14[1];var _useState15=useState(),_useState16=_slicedToArray(_useState15,2),weatherRes=_useState16[0],setWeatherRes=_useState16[1];var _useState17=useState(\"\"),_useState18=_slicedToArray(_useState17,2),speed=_useState18[0],setSpeed=_useState18[1];useIonViewDidEnter(function(){setShowLoading(true);Utilities.getPersistWeatherData().then(function(data){setShowLoading(false);setWeatherRes(data);});});useEffect(function(){if((weatherRes===null||weatherRes===void 0?void 0:weatherRes.name)!=undefined)setLocationName(weatherRes.name);if((weatherRes===null||weatherRes===void 0?void 0:weatherRes.dt)!=undefined){var date=new Date(weatherRes.dt*1000);setCurrentDate(date.getDate()+\"/\"+(date.getMonth()+1)+\"/\"+date.getFullYear());}if((weatherRes===null||weatherRes===void 0?void 0:weatherRes.main.temp)!=undefined){setCurrentTemp((weatherRes.main.temp-273.15)*9/5+32);}if((weatherRes===null||weatherRes===void 0?void 0:weatherRes.main.feels_like)!=undefined){setRealTemp((weatherRes.main.feels_like-273.15)*9/5+32);}if((weatherRes===null||weatherRes===void 0?void 0:weatherRes.weather[0].main)!=undefined){setWeather(weatherRes===null||weatherRes===void 0?void 0:weatherRes.weather[0].main);}if((weatherRes===null||weatherRes===void 0?void 0:weatherRes.wind.speed)!=undefined){setSpeed(weatherRes===null||weatherRes===void 0?void 0:weatherRes.wind.speed);}if((weatherRes===null||weatherRes===void 0?void 0:weatherRes.weather[0].icon)!=undefined){var iconUrl=\"http://openweathermap.org/img/w/\"+(weatherRes===null||weatherRes===void 0?void 0:weatherRes.weather[0].icon)+\".png\";setWeatherIcon(iconUrl);}},[weatherRes]);return/*#__PURE__*/_jsx(IonPage,{children:/*#__PURE__*/_jsxs(IonContent,{fullscreen:true,children:[/*#__PURE__*/_jsx(Preloader,{isOpen:showLoading,onDidDismiss:function onDidDismiss(){return setShowLoading(false);}}),/*#__PURE__*/_jsxs(\"div\",{className:\"osahan-success vh-100 bg-weather\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-5 text-center\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"icofont-check-circled display-1 text-warning\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-white font-weight-bold\",children:locationName}),/*#__PURE__*/_jsx(\"p\",{className:\"text-white font-weight-light\",children:\"Today's Weather\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-white font-weight-light\",children:currentDate})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-white weather-text\",children:[currentTemp.toFixed(2),/*#__PURE__*/_jsx(\"sup\",{children:\"\\xB0 F\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-white font-weight-light\",children:weather}),/*#__PURE__*/_jsx(\"img\",{className:\"img-fluid\",src:weatherIcon})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 row mt-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-white font-weight-light col-6 text-center\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Wind\"}),speed,\" m/sec\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-white font-weight-light col-6 text-center\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Real Feel\"}),realTemp.toFixed(2),/*#__PURE__*/_jsx(\"sup\",{children:\"\\xB0 F\"})]})]})]})]})});};export default Home;","map":{"version":3,"sources":["D:/IonicProjects/weather-App/src/pages/Home.tsx"],"names":["IonContent","IonPage","useIonViewDidEnter","useEffect","useState","Preloader","Utilities","Home","showLoading","setShowLoading","locationName","setLocationName","currentDate","setCurrentDate","currentTemp","setCurrentTemp","weather","setWeather","realTemp","setRealTemp","weatherIcon","setWeatherIcon","weatherRes","setWeatherRes","speed","setSpeed","getPersistWeatherData","then","data","name","undefined","dt","date","Date","getDate","getMonth","getFullYear","main","temp","feels_like","wind","icon","iconUrl","toFixed"],"mappings":"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","sourcesContent":["import { IonContent, IonHeader, IonPage, IonTitle, IonToolbar, useIonViewDidEnter, useIonViewWillEnter } from '@ionic/react';\nimport ExploreContainer from '../components/ExploreContainer';\nimport './Home.css';\n\nimport { useEffect, useState } from 'react';\nimport * as ServerAPI from '../common/ServerAPI';\nimport Preloader from '../components/Preloader';\nimport * as Utilities from '../common/Utilities';\n\nconst Home: React.FC = () => {\n  \n  const [showLoading, setShowLoading] = useState(false);\n  const [locationName,setLocationName] = useState(\"\");\n  const [currentDate,setCurrentDate] = useState(\"\");\n  const [currentTemp,setCurrentTemp] = useState(0);\n  const [weather,setWeather] = useState(\"\");\n  const [realTemp,setRealTemp] = useState(0);\n  const [weatherIcon,setWeatherIcon] = useState(\"\");\n  const [weatherRes,setWeatherRes] = useState<ServerAPI.WeatherRes>();\n  const [speed,setSpeed] = useState(\"\");\n\n  useIonViewDidEnter(()=>{\n    setShowLoading(true);\n    Utilities.getPersistWeatherData().then((data)=>{\n      setShowLoading(false);\n      setWeatherRes(data);\n    });\n  });\n  useEffect(()=>{\n    if(weatherRes?.name!=undefined)\n      setLocationName(weatherRes.name);\n    if(weatherRes?.dt!=undefined){\n      var date = new Date(weatherRes.dt*1000);\n      setCurrentDate(date.getDate()+\"/\"+(date.getMonth()+1)+\"/\"+date.getFullYear());\n    }\n    if(weatherRes?.main.temp!=undefined){\n      setCurrentTemp((weatherRes.main.temp - 273.15) *9/5 + 32);\n    }\n\n    if(weatherRes?.main.feels_like!=undefined){\n      setRealTemp((weatherRes.main.feels_like - 273.15) *9/5 + 32);\n    }\n    if(weatherRes?.weather[0].main!=undefined){\n      setWeather(weatherRes?.weather[0].main);\n    }\n\n    if(weatherRes?.wind.speed!=undefined){\n      setSpeed(weatherRes?.wind.speed);\n    }\n\n    if(weatherRes?.weather[0].icon!=undefined){\n      var iconUrl = \"http://openweathermap.org/img/w/\" + weatherRes?.weather[0].icon + \".png\";\n      setWeatherIcon(iconUrl);\n    }\n\n  },[weatherRes]);\n  \n  \n  return (\n    <IonPage>\n      <IonContent fullscreen>\n        <Preloader isOpen={showLoading} onDidDismiss={() => setShowLoading(false)} />\n        <div className=\"osahan-success vh-100 bg-weather\">\n          <div className=\"p-5 text-center\">\n              <i className=\"icofont-check-circled display-1 text-warning\"></i>\n              <h1 className=\"text-white font-weight-bold\">{locationName}</h1>\n              <p className=\"text-white font-weight-light\">Today's Weather</p>\n              <p className=\"text-white font-weight-light\">{currentDate}</p>\n              \n          </div>\n          <div className=\"text-center\">\n            <p className=\"text-white weather-text\">{currentTemp.toFixed(2)}<sup>&#176; F</sup></p>\n            <p className=\"text-white font-weight-light\">{weather}</p>\n            <img className=\"img-fluid\" src={weatherIcon}/>\n\n            \n          </div>\n          <div className=\"col-12 row mt-5\">\n            <div className=\"text-white font-weight-light col-6 text-center\">\n              <p>Wind</p>\n              {speed} m/sec\n            </div>\n            <div className=\"text-white font-weight-light col-6 text-center\">\n              <p>Real Feel</p>\n              {realTemp.toFixed(2)}<sup>&#176; F</sup>\n            </div>\n            \n          </div>\n        </div>\n      </IonContent>\n    </IonPage>\n  );\n};\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}